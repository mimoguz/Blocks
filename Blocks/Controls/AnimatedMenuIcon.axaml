<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:Blocks.Controls">
    <Design.PreviewWith>
        <controls:AnimatedMenuIcon MenuIconStyle="Chevron" DrawExpanded="False" />
    </Design.PreviewWith>

    <Style Selector="controls|AnimatedMenuIcon">
        <Setter Property="Foreground" Value="{DynamicResource BlockButtonForegroundBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BlockBaseAccentBrush}" />

        <Style Selector="^[MenuIconStyle=Burger]">
            <Setter Property="Template">
                <ControlTemplate>
                    <Panel Width="16"
                           Height="16"
                           ClipToBounds="False">
                        <Rectangle Name="TopLine"
                                   Width="16"
                                   Height="{DynamicResource BlockIconStrokeThickness}"
                                   Fill="{TemplateBinding Foreground}"
                                   Margin="0,0,0,10">
                            <Rectangle.Transitions>
                                <Transitions>
                                    <BrushTransition Property="Fill"
                                                     Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                     Easing="CubicEaseOut" />
                                    <ThicknessTransition Property="Margin"
                                                         Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                         Easing="CubicEaseOut" />
                                    <TransformOperationsTransition Property="RenderTransform"
                                                                   Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                                   Easing="CubicEaseOut" />
                                </Transitions>
                            </Rectangle.Transitions>
                        </Rectangle>
                        <Rectangle Name="BottomLine"
                                   Width="16"
                                   Height="{DynamicResource BlockIconStrokeThickness}"
                                   Fill="{TemplateBinding Foreground}"
                                   Margin="0,10,0,0">
                            <Rectangle.Transitions>
                                <Transitions>
                                    <BrushTransition Property="Fill"
                                                     Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                     Easing="CubicEaseOut" />
                                    <ThicknessTransition Property="Margin"
                                                         Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                         Easing="CubicEaseOut" />
                                    <TransformOperationsTransition Property="RenderTransform"
                                                                   Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                                   Easing="CubicEaseOut" />
                                </Transitions>
                            </Rectangle.Transitions>
                        </Rectangle>
                        <Rectangle Name="CenterLine"
                                   Width="16"
                                   Height="{DynamicResource BlockIconStrokeThickness}"
                                   Fill="{TemplateBinding Foreground}">
                            <Rectangle.Transitions>
                                <Transitions>
                                    <DoubleTransition Property="Width"
                                                      Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                      Easing="CubicEaseOut" />
                                    <DoubleTransition Property="Opacity"
                                                      Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                      Easing="CubicEaseOut" />
                                </Transitions>
                            </Rectangle.Transitions>
                        </Rectangle>
                    </Panel>
                </ControlTemplate>
            </Setter>

            <Style Selector="^[DrawExpanded=True]">
                <Style Selector="^ /template/ Rectangle#TopLine">
                    <Setter Property="Margin" Value="0" />
                    <Setter Property="RenderTransform" Value="rotate(45deg)" />
                    <Setter Property="Fill" Value="{TemplateBinding BorderBrush}" />
                </Style>
                <Style Selector="^ /template/ Rectangle#BottomLine">
                    <Setter Property="Margin" Value="0" />
                    <Setter Property="RenderTransform" Value="rotate(-45deg)" />
                    <Setter Property="Fill" Value="{TemplateBinding BorderBrush}" />
                </Style>
                <Style Selector="^ /template/ Rectangle#CenterLine">
                    <Setter Property="Opacity" Value="0" />
                    <Setter Property="Width" Value="0" />
                </Style>
            </Style>
        </Style>

        <Style Selector="^[MenuIconStyle=Chevron]">
            <Setter Property="Template">
                <ControlTemplate>
                    <Panel Width="16"
                           Height="16"
                           ClipToBounds="False">
                        <Path Name="Chevron"
                              Data="M 1 5L 8 13L 15 5"
                              StrokeThickness="2"
                              Stroke="{TemplateBinding Foreground}"
                              Stretch="None"
                              IsVisible="True">
                        </Path>
                        <Rectangle Name="Left"
                                   Margin="-1.2,8.3,0,0"
                                   Width="11.5"
                                   Height="2"
                                   Fill="{TemplateBinding Foreground}"
                                   Opacity="1"
                                   VerticalAlignment="Top"
                                   HorizontalAlignment="Left"
                                   RenderTransform="rotate(49deg)"
                                   IsVisible="False">
                            <Rectangle.Transitions>
                                <Transitions>
                                    <DoubleTransition Property="Width"
                                                      Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                      Easing="CubicEaseOut" />
                                    <BrushTransition Property="Fill"
                                                     Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                     Easing="CubicEaseOut" />
                                    <ThicknessTransition Property="Margin"
                                                         Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                         Easing="CubicEaseOut" />
                                    <TransformOperationsTransition Property="RenderTransform"
                                                                   Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                                   Easing="CubicEaseOut" />
                                </Transitions>
                            </Rectangle.Transitions>
                        </Rectangle>
                        <Rectangle Name="Right"
                                   Margin="5.2,8.3,0,0"
                                   Width="11.5"
                                   Height="2"
                                   Fill="{TemplateBinding Foreground}"
                                   Opacity="1"
                                   VerticalAlignment="Top"
                                   HorizontalAlignment="Left"
                                   RenderTransform="rotate(-49deg)"
                                   IsVisible="False">
                            <Rectangle.Transitions>
                                <Transitions>
                                    <DoubleTransition Property="Width"
                                                      Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                      Easing="CubicEaseOut" />
                                    <BrushTransition Property="Fill"
                                                     Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                     Easing="CubicEaseOut" />
                                    <ThicknessTransition Property="Margin"
                                                         Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                         Easing="CubicEaseOut" />
                                    <TransformOperationsTransition Property="RenderTransform"
                                                                   Duration="{DynamicResource BlockLongStateTransitionDuration}"
                                                                   Easing="CubicEaseOut" />
                                </Transitions>
                            </Rectangle.Transitions>
                        </Rectangle>
                    </Panel>
                </ControlTemplate>
            </Setter>
            <Style Selector="^[DrawExpanded=True]">
                <Style Selector="^ /template/ Rectangle#Left">
                    <Setter Property="IsVisible" Value="True" />
                    <Setter Property="Margin" Value="0,7,0,0" />
                    <Setter Property="Width" Value="16"></Setter>
                    <Setter Property="RenderTransform" Value="rotate(45deg)" />
                    <Setter Property="Fill" Value="{TemplateBinding BorderBrush}" />
                </Style>
                <Style Selector="^ /template/ Rectangle#Right">
                    <Setter Property="IsVisible" Value="True" />
                    <Setter Property="Margin" Value="0,7,0,0" />
                    <Setter Property="Width" Value="16"></Setter>
                    <Setter Property="RenderTransform" Value="rotate(-45deg)" />
                    <Setter Property="Fill" Value="{TemplateBinding BorderBrush}" />
                </Style>
                <Style Selector="^ /template/ Path#Chevron">
                    <Setter Property="IsVisible" Value="False" />
                </Style>
            </Style>
        </Style>
    </Style>
</Styles>